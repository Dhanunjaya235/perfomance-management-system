<div class="relative">
  <input
    type="text"
    [(ngModel)]="searchedValue"
    (input)="displaySearched()"
    [placeholder]="placeholder"
    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
  />

  <ul
    *ngIf="filteredList.length > 0 && searchedValue"
    class="absolute z-50 w-full bg-white border border-gray-300 rounded-md shadow-md max-h-48 overflow-auto"
  >
    <li
      *ngIf="multiSelect"
      (click)="toggleSelectAll()"
      class="px-4 py-2 font-semibold bg-gray-100 hover:bg-gray-200 cursor-pointer flex items-center gap-2"
    >
      <input type="checkbox" [checked]="allSelected()" />
      Select All
    </li>

    <li
      *ngFor="let item of filteredList; trackBy: trackByFn"
      (click)="selectItem(item)"
      class="px-4 py-2 hover:bg-blue-100 cursor-pointer flex items-center gap-2"
    >
      <ng-container *ngIf="multiSelect">
        <input type="checkbox" [checked]="isSelected(item)" />
      </ng-container>
      {{ item[searchKey] }}
    </li>
  </ul>
</div>
